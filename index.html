<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–∞–ø–∞ —Ç—Ä–∏–≤–æ–≥ ‚Äî live –±–µ–∑ —Ç–æ–∫–µ–Ω–∞</title>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{
      --bg:#0b1220;--card:#0f182a;--line:#1c2537;--text:#e6e9ef;--muted:#99a2b4;
      --ok:#9be49b;--bad:#ff8d8d;--chip:#2a3550;--brand:#6ea8fe
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:var(--bg);color:var(--text)}
    header{position:sticky;top:0;z-index:5;background:linear-gradient(180deg,rgba(11,18,32,.9),rgba(11,18,32,.8));backdrop-filter:blur(6px);padding:14px 18px;border-bottom:1px solid var(--line);display:flex;gap:12px;align-items:center;justify-content:space-between}
    .title{font-weight:800}
    .chip{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--chip);border-radius:999px;padding:6px 12px;font-size:12px}
    main{max-width:1100px;margin:0 auto;padding:18px}
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px}
    .muted{color:var(--muted)}
    .pill{padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid var(--chip)}
    .row{display:flex;justify-content:space-between;gap:12px;align-items:center}
    .count{font-size:34px;font-weight:900}
    .list{margin-top:8px}
    .item{display:flex;justify-content:space-between;gap:8px;padding:8px 0;border-bottom:1px dashed var(--line)}
    .item:last-child{border-bottom:0}
    .oblast{display:flex;justify-content:space-between;gap:8px;align-items:center;padding:10px;border:1px solid var(--line);border-radius:12px}
    .badge{font-size:12px;border:1px solid var(--chip);border-radius:999px;padding:2px 8px}
    .on{color:var(--bad);border-color:rgba(255,141,141,.35);animation:pulse 1.5s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,141,141,.35)}70%{box-shadow:0 0 0 8px rgba(255,141,141,0)}100%{box-shadow:0 0 0 0 rgba(255,141,141,0)}}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    button{background:#13223a;color:var(--text);border:1px solid var(--line);border-radius:10px;padding:8px 12px;cursor:pointer}
    button[aria-pressed="true"]{outline:2px solid var(--brand)}
    a{color:var(--brand);text-decoration:none}
    footer{color:var(--muted);text-align:center;padding:18px}
  </style>
</head>
<body>
  <header>
    <div class="title">–ú–∞–ø–∞ —Ç—Ä–∏–≤–æ–≥ ‚Äî live</div>
    <div class="chip">–î–∂–µ—Ä–µ–ª–æ: siren.pp.ua</div>
    <div class="chip" id="status">–°—Ç–∞—Ç—É—Å: —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è‚Ä¶</div>
    <div class="toolbar">
      <button id="soundBtn" aria-pressed="false">üîï –ó–≤—É–∫</button>
      <span class="pill" id="updated">‚Äî</span>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="row">
        <div>
          <div class="muted">–ê–∫—Ç–∏–≤–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ (–ø–æ–≤—ñ—Ç—Ä—è–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞)</div>
          <div class="count" id="activeCount">‚Äî</div>
        </div>
        <span class="pill">–û–Ω–æ–≤–ª–µ–Ω–Ω—è: live (SSE) + —Ä–µ–∑–µ—Ä–≤ 10 —Å</span>
      </div>
    </section>

    <section class="cards" id="grid"></section>

    <section class="card">
      <div class="muted">–û—Å—Ç–∞–Ω–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</div>
      <div id="feed" class="list">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶</div>
    </section>
  </main>

  <footer>
    –ó—Ä–æ–±–ª–µ–Ω–æ –±–µ–∑ —Ç–æ–∫–µ–Ω—ñ–≤. –î–∞–Ω—ñ: <a href="https://siren.pp.ua/" target="_blank">siren.pp.ua</a>
  </footer>

  <script>
    const BASE = "https://siren.pp.ua/api";
    const stateUrl = () => `${BASE}/states?short`;
    const liveUrl  = () => `${BASE}/states/live`;

    const statusEl = document.getElementById('status');
    const updEl = document.getElementById('updated');
    const activeCountEl = document.getElementById('activeCount');
    const gridEl = document.getElementById('grid');
    const feedEl = document.getElementById('feed');
    const soundBtn = document.getElementById('soundBtn');

    let lastActiveIds = new Set();
    let soundOn = false;
    let audioCtx;

    soundBtn.addEventListener('click', () => {
      soundOn = !soundOn;
      soundBtn.setAttribute('aria-pressed', soundOn ? 'true' : 'false');
      soundBtn.textContent = soundOn ? 'üîî –ó–≤—É–∫' : 'üîï –ó–≤—É–∫';
      if (soundOn && !audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    });

    function beep() {
      if (!soundOn) return;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.connect(g); g.connect(audioCtx.destination);
      o.type = 'sine'; o.frequency.value = 880;
      g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.2, audioCtx.currentTime + 0.02);
      g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.6);
      o.start(); o.stop(audioCtx.currentTime + 0.6);
    }

    function fmtTime(iso){ return new Date(iso).toLocaleString('uk-UA'); }

    function renderStates(data){
      const states = data.states.sort((a,b)=>a.name.localeCompare(b.name));
      const active = states.filter(s=>s.alert);

      const currentActiveIds = new Set(active.map(s=>s.id));
      let newOn = false;
      currentActiveIds.forEach(id => { if (!lastActiveIds.has(id)) newOn = true; });
      if (newOn) beep();
      lastActiveIds = currentActiveIds;

      activeCountEl.textContent = active.length;
      updEl.textContent = "–û–Ω–æ–≤–ª–µ–Ω–æ: " + new Date().toLocaleTimeString("uk-UA");

      gridEl.innerHTML = states.map(s => `
        <div class="oblast ${s.alert ? 'on':''}">
          <div>
            <strong>${s.name}</strong><br>
            <span class="muted">${s.alert ? '–¢–†–ò–í–û–ì–ê' : '—Å–ø–æ–∫—ñ–π–Ω–æ'} ¬∑ ${fmtTime(s.changed)}</span>
          </div>
          <span class="badge ${s.alert?'on':''}">${s.alert?'A':'N'}</span>
        </div>`).join("");

      feedEl.innerHTML = active.length
        ? active.map(s=>`<div class="item"><div><strong style="color:var(--bad)">${s.name}</strong></div><div class="muted">${fmtTime(s.changed)}</div></div>`).join("")
        : '<div class="muted">–ù–∞—Ä–∞–∑—ñ —Ç—Ä–∏–≤–æ–≥ –Ω–µ–º–∞—î üéâ</div>';
    }

    async function refresh(){
      try {
        const r = await fetch(stateUrl());
        const data = await r.json();
        renderStates(data);
        statusEl.textContent = "–°—Ç–∞—Ç—É—Å: –æ–Ω–ª–∞–π–Ω";
      } catch {
        statusEl.textContent = "–°—Ç–∞—Ç—É—Å: –ø–æ–º–∏–ª–∫–∞";
      }
    }

    function startSSE(){
      const es = new EventSource(liveUrl());
      es.onopen = () => { statusEl.textContent = "–°—Ç–∞—Ç—É—Å: live –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ"; };
      es.onerror = () => { statusEl.textContent = "–°—Ç–∞—Ç—É—Å: live –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ"; };
      es.onmessage = () => refresh();
    }

    refresh();
    setInterval(refresh,10000);
    startSSE();
  </script>
</body>
</html>
      if (!soundOn) return;
      try{
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.connect(g); g.connect(audioCtx.destination);
        o.type = 'sine'; o.frequency.value = 880;
        g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.2, audioCtx.currentTime + 0.02);
        g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.6);
        o.start(); o.stop(audioCtx.currentTime + 0.6);
      }catch(e){/* ignore */}
    }

    function fmtTime(iso){
      try{ return new Date(iso).toLocaleString('uk-UA'); }catch{ return '‚Äî'; }
    }

    function renderStates(data){
      if (!data || !Array.isArray(data.states)) return;
      const states = data.states.slice().sort((a,b)=> (a.name||'').localeCompare(b.name||''));
      const active = states.filter(s=> !!s.alert);

      // –ó–≤—É–∫, —è–∫—â–æ –∑'—è–≤–∏–ª–∏—Å—è –Ω–æ–≤—ñ –∞–∫—Ç–∏–≤–Ω—ñ –æ–±–ª–∞—Å—Ç—ñ
      const currentActiveIds = new Set(active.map(s=> s.id));
      let newOn = false;
      currentActiveIds.forEach(id => { if (!lastActiveIds.has(id)) newOn = true; });
      if (newOn) beep();
      lastActiveIds = currentActiveIds;

      activeCountEl.textContent = active.length;
      updEl.textContent = '–û–Ω–æ–≤–ª–µ–Ω–æ: ' + new Date().toLocaleTimeString('uk-UA');

      // –°—ñ—Ç–∫–∞ –ø–æ –≤—Å—ñ—Ö –æ–±–ª–∞—Å—Ç—è—Ö
      gridEl.innerHTML = states.map(s=>`
        <div class="oblast ${s.alert ? 'on' : ''}">
          <div>
            <div><strong>${s.name ?? ('–û–±–ª–∞—Å—Ç—å #' + s.id)}</strong></div>
            <div class="muted" style="font-size:12px">${s.alert ? '–¢–†–ò–í–û–ì–ê' : '—Å–ø–æ–∫—ñ–π–Ω–æ'}${s.changed ? ' ¬∑ –∑ ' + fmtTime(s.changed) : ''}</div>
          </div>
          <span class="badge ${s.alert ? 'on' : ''}">${s.alert ? 'A' : 'N'}</span>
        </div>
      `).join('');

      // –°–ø–∏—Å–æ–∫ —Ç—ñ–ª—å–∫–∏ –∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–ª—è "—Å—Ç—Ä—ñ—á–∫–∏"
      feedEl.innerHTML = active.length
        ? active.map(s=>`<div class="item"><div><strong style="color:var(--bad)">${s.name}</strong> ‚Äî –ø–æ–≤—ñ—Ç—Ä—è–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞</div><div class="muted">${fmtTime(s.changed)}</div></div>`).join('')
        : '<div class="muted">–ù–∞—Ä–∞–∑—ñ —Ç—Ä–∏–≤–æ–≥ –Ω–µ–º–∞—î üéâ</div>';
    }

    async function fetchOnce(){
      const r = await fetch(stateUrl(), {cache:'no-store'});
      if(!r.ok) throw new Error('HTTP ' + r.status);
      return r.json();
    }

    async function refresh(){
      try{
        statusEl.textContent = '–°—Ç–∞—Ç—É—Å: –æ–Ω–æ–≤–ª–µ–Ω–Ω—è‚Ä¶';
        const data = await fetchOnce();
        renderStates(data);
        statusEl.textContent = '–°—Ç–∞—Ç—É—Å: –æ–Ω–ª–∞–π–Ω';
      }catch(e){
        statusEl.textContent = '–°—Ç–∞—Ç—É—Å: –ø–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è';
        console.error(e);
      }
    }

    // Live –ø—ñ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ SSE. –ù–∞ –±—É–¥—å-—è–∫—É –ø–æ–¥—ñ—é ‚Äî –ø—Ä–æ—Å—Ç–æ —Ä–æ–±–∏–º–æ —Å–≤—ñ–∂–∏–π –∑–∞–ø–∏—Ç —Å—Ç–∞–Ω—ñ–≤.
    function startSSE(){
      try{
        const es = new EventSource(liveUrl());
        es.onopen = () => { statusEl.textContent = '–°—Ç–∞—Ç—É—Å: live –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ'; };
        es.onerror = () => { statusEl.textContent = '–°—Ç–∞—Ç—É—Å: live –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ, —Ä–µ–∑–µ—Ä–≤–Ω–∏–π —Ä–µ–∂–∏–º'; };
        es.onmessage = (ev) => {
          // –î–µ—è–∫—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å payload –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º; –º–∏ –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ –ø—Ä–æ—Å—Ç–æ —Ä–µ—Ñ—Ä–µ—à–∏–º–æ —Å–ø–∏—Å–æ–∫
          refresh();
        };
        return es;
      }catch(e){
        statusEl.textContent = '–°—Ç–∞—Ç—É—Å: live –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ';
        return null;
      }
    }

    // –†–µ–∑–µ—Ä–≤: –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è —Ä–∞–∑ –Ω–∞ 10 —Å
    setInterval(refresh, 10000);

    // –ü–µ—Ä—à–∏–π —Ä–µ–Ω–¥–µ—Ä
    refresh();
    startSSE();
  </script>
</body>
</html>        <div><span style="background:${COLORS.warn}"></span> –ê–∫—Ç–∏–≤–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞</div>
        <div><span style="background:${COLORS.unk}"></span> –ù–µ–≤—ñ–¥–æ–º–æ</div>
      `;
      return div;
    };
    legend.addTo(map);
  </script>
</body>
</html>
        const since = getDistrictAlertSince(name) || '';

        const html = `
          <div class="info">
            <strong>${name || '‚Äî'}</strong><br/>
            –°—Ç–∞—Ç—É—Å: <strong>${status === 'alert' ? '–¢—Ä–∏–≤–æ–≥–∞' : status === 'no_alert' ? '–ù–µ–º–∞—î —Ç—Ä–∏–≤–æ–≥–∏' : '–ù–µ–≤—ñ–¥–æ–º–æ'}</strong><br/>
            ${since ? '–ü–æ—á–∞–ª–æ—Å—è: ' + new Date(since).toLocaleString() : ''}
          </div>
        `;

        L.popup().setLatLng(layer.getBounds().getCenter()).setContent(html).openOn(map);
      });
    }

    // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç—Ä–µ–≤–æ–≥–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —Ä–∞–π–æ–Ω–∞–º
    function loadAlertsAndStyle(){
      // –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç—Ä–µ–≤–æ–≥: –º–∞–ø–ø–∏–Ω–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º —Ä–∞–π–æ–Ω–æ–≤
      fetch(ALERTS_API_URL).then(r => r.json()).then(raw => {
        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–π raw –≤ —Ñ–æ—Ä–º–∞—Ç [{district_name, status, since}, ...]
        alertsData = mapAlertsToDistricts(raw);

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª–∏: –ø—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Ñ–∏—á–∞–º GeoJSON
        districtsLayer.eachLayer(layer => {
          const feat = layer.feature;
          const name = feat.properties && (feat.properties.name || feat.properties.NA_UA || feat.properties.NAME);
          const status = getDistrictStatusByName(name) || 'no_alert';
          applyStyleToFeature(layer, status);
        });
      }).catch(err => {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–µ–≤–æ–≥:', err);
      });
    }

    // –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ—Ç–≤–µ—Ç API –≤ –µ–¥–∏–Ω—ã–π –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤.
    // –ó–¥–µ—Å—å –º—ã –¥–∞—ë–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è ‚Äî –ø–æ district_name, –ø–æ uid –∏ —Ç.–¥.
    function mapAlertsToDistricts(raw){
      // –ï—Å–ª–∏ API alerts.in.ua –≤–µ—Ä–Ω—É–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é items —Å oblasts/regions,
      // —Ç–æ –Ω—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é. –ó–¥–µ—Å—å ‚Äî –ø—Ä–∏–º–µ—Ä –æ–±—â–µ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.

      // –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å –ø–æ–ª—è–º–∏ 'region', 'raion' –∏–ª–∏ 'settlement'
      // —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å status –¥–ª—è –∫–∞–∂–¥–æ–≥–æ raion.

      try{
        // –µ—Å–ª–∏ raw —É–∂–µ –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ ‚Äî –≤–µ—Ä–Ω—É—Ç—å
        if(Array.isArray(raw) && raw.length && raw[0].district_name) return raw;

        // –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –ø–æ–ø—ã—Ç–∫–∞: –∏—Å–∫–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ alerts –ø–æ —Ä–∞–π–æ–Ω–∞–º
        const out = [];

        // –ï—Å–ª–∏ raw –∏–º–µ–µ—Ç –ø–æ–ª–µ 'items' –∏–ª–∏ 'alerts'
        const candidates = raw.items || raw.alerts || raw;

        if(Array.isArray(candidates)){
          candidates.forEach(it => {
            // –ü–æ–ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∏–º—è —Ä–∞–π–æ–Ω–∞
            const name = it.raion || it.district || it.district_name || it.name || (it.region && it.region.name);
            if(!name) return;
            // –†–µ—à–∏–º —Å—Ç–∞—Ç—É—Å (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ)
            const status = (it.status && it.status === 'active') || (it.alert && it.alert === true) ? 'alert' : 'no_alert';
            const since = it.since || it.started_at || it.time || null;
            out.push({district_name: name, status, since});
          });
        }
        return out;
      }catch(e){
        console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å —Ç—Ä–µ–≤–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏', e);
        return [];
      }
    }

    // –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–π–æ–Ω–∞ –ø–æ –∏–º–µ–Ω–∏ (—É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–µ–±–æ–ª—å—à–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞)
    function getDistrictStatusByName(name){
      if(!name || !alertsData) return null;
      const find = alertsData.find(a => a.district_name && a.district_name.toLowerCase() === name.toLowerCase());
      return find ? find.status : null;
    }

    function getDistrictAlertSince(name){
      if(!name || !alertsData) return null;
      const find = alertsData.find(a => a.district_name && a.district_name.toLowerCase() === name.toLowerCase());
      return find ? find.since : null;
    }

    // –ü—Ä–æ—Å—Ç–∞—è auto-refresh –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    setInterval(() => {
      if(districtsLayer) loadAlertsAndStyle();
    }, 30_000);

    // ---------- –õ–µ–≥–µ–Ω–¥–∞ ----------
    const legend = L.control({position: 'bottomright'});
    legend.onAdd = function(){
      const div = L.DomUtil.create('div','legend');
      div.innerHTML = `
        <div><span style="background:${COLORS.no_alert}"></span> –ù–µ–º–∞—î —Ç—Ä–∏–≤–æ–≥–∏</div>
        <div><span style="background:${COLORS.alert}"></span> –ê–∫—Ç–∏–≤–Ω–∞ —Ç—Ä–∏–≤–æ–≥–∞</div>
        <div><span style="background:${COLORS.unknown}"></span> –ù–µ–≤—ñ–¥–æ–º–æ</div>
      `;
      return div;
    };
    legend.addTo(map);

    // ---------- –£—Ç–∏–ª–∏—Ç—ã –∏ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ----------
    /*
      –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –Ω–∞ —Å–∞–π—Ç–µ:
      1) dnipro_districts.geojson ‚Äî GeoJSON —Å –ø–æ–ª–∏–≥–æ–Ω–∞–º–∏ —Ä–∞–π–æ–Ω–æ–≤/–≥—Ä–æ–º–∞–¥ –î–Ω—ñ–ø—Ä–æ–ø–µ—Ç—Ä–æ–≤—Å—å–∫–æ—ó –æ–±–ª–∞—Å—Ç—ñ.
         –ü–æ–ª—è feature.properties.name –∏–ª–∏ NA_UA –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–æ-–ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è —Ä–∞–π–æ–Ω–∞.
      2) ALERTS_API_URL ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π endpoint. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å alerts.in.ua, –∏–∑—É—á–∏
         –∏—Ö API (devs.alerts.in.ua). –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è API token.
      3) –ï—Å–ª–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ –æ—Ç–≤–µ—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–∞–π–æ–Ω–æ–≤ (uid), —Ç–æ –≤ GeoJSON –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
         —Å–≤–æ–π—Å—Ç–≤–æ properties.uid –∏ —Ç–æ–≥–¥–∞ –≤ –∫–æ–¥–µ –¥–µ–ª–∞—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ uid (–ø–æ-–Ω–∞–¥–µ–∂–Ω–µ–µ,
         —á–µ–º –ø–æ –∏–º–µ–Ω–∏).

      –§–æ—Ä–º–∞—Ç –æ–∂–∏–¥–∞–µ–º—ã–π –¥–ª—è alertsData: –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ {district_name, status, since}.
      –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å fuzzy-matching (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–≤–æ–¥–∏—Ç—å
      –∏–º–µ–Ω–∞ –∫ –æ–¥–Ω–æ–º—É –≤–∏–¥—É –∏–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É {geojson_name: api_name}.
    */

  </script>
</body>
</html>
